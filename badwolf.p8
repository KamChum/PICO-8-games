pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()

	function chck_draw() 
		spr(wolf_spr,12,12,1,1,isflipd)
	end


	wlf_pos_topl_x = 50
	wlf_pos_topl_y = 50
	
	wlf_pos_topr_x = 70
	wlf_pos_topr_y = 50
	
	wlf_pos_botl_x = 50
	wlf_pos_botl_y = 70
	
	wlf_pos_botr_x = 70
	wlf_pos_botr_y = 70
	
	wolf_x,wolf_y = 64,64
	wolf_spr = 1
	
	chck_offset = 8
	
	isflipd=false
	
	timer = 0
	chck_spr=3
	
	
end


function _update()
	
	--egg animation
	function egg_anim()
		wolf_spr=1
		if timer<30 then
			timer+=1
		else
			if chck_spr<6 then
				chck_spr+=1
				if chck_spr==6 and wolf_x==wlf_pos_topl_x and wolf_y==wlf_pos_topl_y then
						print("catch")
						egg_anim()
						wolf_spr = 17
				elseif chck_spr==6 then
					print("break")
					egg_anim()
					spr(23,48,50)
				end
			else
				chck_spr=3
			end
			timer=0
		end
		
	end

	
	
	


	if btn(4) then	--bottomleft
		wolf_x=wlf_pos_botl_x
		wolf_y=wlf_pos_botl_y
		isflipd=false
	end
		
	if btn(5) then --bottomright
		wolf_x=wlf_pos_botr_x
		wolf_y=wlf_pos_botr_y
		isflipd=true
	end
		
	if btn(0) then --topleft
		wolf_x=wlf_pos_topl_x
		wolf_y=wlf_pos_topl_y
		isflipd=false
	end
		
	if btn(1) then --topright
		wolf_x=wlf_pos_topr_x
		wolf_y=wlf_pos_topr_y
		isflipd=true
	end

	
end
 
function _draw()
		cls()
		--spr(1,wlf_pos_topl_x,wlf_pos_topl_y)
		--spr(1,wlf_pos_topr_x,wlf_pos_topr_y,1,1,true,false)--must flip
		--spr(1,wlf_pos_botl_x,wlf_pos_botl_y)
		--spr(1,wlf_pos_botr_x,wlf_pos_botr_y,1,1,true,false)
		spr(chck_spr,wlf_pos_topl_x-chck_offset,wlf_pos_topl_y-chck_offset,1,1,true,false)
		spr(3,wlf_pos_botl_x-chck_offset,wlf_pos_botl_y-chck_offset,1,1,true,false)
		spr(3,wlf_pos_topr_x+chck_offset,wlf_pos_topr_y-chck_offset)
		spr(3,wlf_pos_botr_x+chck_offset,wlf_pos_botr_y-chck_offset)
		spr(wolf_spr,wolf_x,wolf_y,1,1,isflipd)
		egg_anim()
		wolf()
end
__gfx__
00000000000006000000000000000080000000800000008000000080000000800000000000000000000000000000000000000000000000000000000000000000
00000000000566600000000000000779000007790000077900000779000007790000000000000000000000000000000000000000000000000000000000000000
00700700000567600000060000000777000007770000077700000777000007770000000000000000000000000000000000000000000000000000000000000000
000770004440666000056660000004440000a4440000044400000444000004440000000000000000000000000000000000000000000000000000000000000000
0007700000666660000567600000444400004444000a444400004444000044440000000000000000000000000000000000000000000000000000000000000000
00700700000066664440666000044444000444440004444400a44444000444440000000000000000000000000000000000000000000000000000000000000000
00000000000060600066666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000606000006666000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000000000
00000000000006000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000566600005666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000a0567600005676000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000004440666044406660000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000000000
00000000006666600066666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000066660000666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000060600000606000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000006060a000606000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100001c6301c6401c6501c6601c6701c6701c6701c6701c6701c6701c6701c6701a6701a6701a6601a6601a650196401964018600186001860018600186001860018600186001860018600186001860017600
